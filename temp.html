<table id="datatable" class="table table-striped dt-responsive nowrap w-100">
    <thead>
        <tr>
            <th>ID</th>
            <th>Honorific</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Mobile 1</th>
            <th>Mobile 2</th>
            <th>Whatsapp</th>
            <th>Street Address</th>
            <th>Area/Location</th>
            <th>City/Town</th>
            <th>District</th>
            <th>State</th>
            <th>Country</th>
            <th>Pincode</th>
            <th>Date of Register</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <?php
            $query = "SELECT * FROM register_customer";
            $query_run = mysqli_query($con, $query);

            if (mysqli_num_rows($query_run) > 0) {
                foreach ($query_run as $customer) {
            ?>
        <tr>
            <th><?= $customer['id'] ?></th>
            <th><?= $customer['honorific'] ?></th>
            <th><?= $customer['first_name'] ?></th>
            <th><?= $customer['last_name'] ?></th>
            <th><?= $customer['email'] ?></th>
            <th><?= $customer['mobile_number'] ?></th>
            <th><?= $customer['alternate_number'] ?></th>
            <th><?= $customer['whatsapp_number'] ?></th>
            <th><?= $customer['street'] ?></th>
            <th><?= $customer['area'] ?></th>
            <th><?= $customer['city'] ?></th>
            <th><?= $customer['district'] ?></th>
            <th><?= $customer['state'] ?></th>
            <th><?= $customer['country'] ?></th>
            <th><?= $customer['pincode'] ?></th>
            <th><?= $customer['register_date'] ?></th>
        </tr>
            <?php
                }
            } else {
                echo "<h5>No records found</h5>";
            }

            ?>
        </tr>
    </tbody>
</table>









<?php
session_start();
require 'dbcon.php'
?>

<!doctype html>
<html lang="en">


<!-- Mirrored from themesbrand.com/minia/layouts-lts/pages-starter.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Dec 2024 12:07:01 GMT -->

<head>

<meta charset="utf-8" />
        <title>Webmirchi</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
        <meta content="Themesbrand" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="assets/images/favicon.ico">

        <!-- DataTables -->
        <link href="assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />

        <!-- Responsive datatable examples -->
        <link href="assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" /> 

        <!-- preloader css -->
        <link rel="stylesheet" href="assets/css/preloader.min.css" type="text/css" />

        <!-- Bootstrap Css -->
        <link href="assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
        <!-- Icons Css -->
        <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
        <!-- App Css-->
        <link href="assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />

</head>

<style>
    /* For Webkit browsers (Chrome, Edge, Safari) */
    ::-webkit-scrollbar {
        width: 8px;
        /* Width of vertical scrollbar */
        height: 8px;
        /* Height of horizontal scrollbar */
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        /* Track color */
        border-radius: 10px;
        /* Rounded corners for track */
    }

    ::-webkit-scrollbar-thumb {
        background: #888;
        /* Thumb color */
        border-radius: 10px;
        /* Rounded corners for thumb */
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #555;
        /* Thumb color on hover */
    }
</style>

<body>

    <!-- <body data-layout="horizontal"> -->

    <!-- Begin page -->
    <div id="layout-wrapper">



        <header id="page-topbar">
            <div class="navbar-header">
                <div class="d-flex">
                    <!-- LOGO -->
                    <div class="navbar-brand-box">
                        <a href="index.html" class="logo logo-dark">
                            <span class="logo-sm">
                                <img src="assets/images/logo-sm.svg" alt="" height="24">
                            </span>
                            <span class="logo-lg">
                                <img src="assets/images/logo-sm.svg" alt="" height="24"> <span class="logo-txt">Webmirchi</span>
                            </span>
                        </a>

                        <a href="index.html" class="logo logo-light">
                            <span class="logo-sm">
                                <img src="assets/images/logo-sm.svg" alt="" height="24">
                            </span>
                            <span class="logo-lg">
                                <img src="assets/images/logo-sm.svg" alt="" height="24"> <span class="logo-txt">Webmirchi</span>
                            </span>
                        </a>
                    </div>

                    <button type="button" class="btn btn-sm px-3 font-size-16 header-item" id="vertical-menu-btn">
                        <i class="fa fa-fw fa-bars"></i>
                    </button>

                    <!-- App Search-->
                    <form class="app-search d-none d-lg-block">
                        <div class="position-relative">
                            <input type="text" class="form-control" placeholder="Search...">
                            <button class="btn btn-primary" type="button"><i class="bx bx-search-alt align-middle"></i></button>
                        </div>
                    </form>
                </div>

                <div class="d-flex">

                    <div class="dropdown d-inline-block d-lg-none ms-2">
                        <button type="button" class="btn header-item" id="page-header-search-dropdown"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i data-feather="search" class="icon-lg"></i>
                        </button>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                            aria-labelledby="page-header-search-dropdown">

                            <form class="p-3">
                                <div class="form-group m-0">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Search ..." aria-label="Search Result">

                                        <button class="btn btn-primary" type="submit"><i class="mdi mdi-magnify"></i></button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>



                    <div class="dropdown d-inline-block">
                        <button type="button" class="btn header-item bg-light-subtle border-start border-end" id="page-header-user-dropdown"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="rounded-circle header-profile-user" src="assets/images/users/avatar-1.jpg"
                                alt="Header Avatar">
                            <span class="d-none d-xl-inline-block ms-1 fw-medium">Shawn L.</span>
                            <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end">
                            <!-- item-->
                            <a class="dropdown-item" href="auth-logout.html"><i class="mdi mdi-logout font-size-16 align-middle me-1"></i> Logout</a>
                        </div>
                    </div>

                </div>
            </div>
        </header>
        <!-- ========== Left Sidebar Start ========== -->
        <div class="vertical-menu">

            <div data-simplebar class="h-100">

                <!--- Sidemenu -->
                <div id="sidebar-menu">
                    <!-- Left Menu Start -->
                    <ul class="metismenu list-unstyled" id="side-menu">
                        <li class="menu-title" data-key="t-menu">Menu</li>

                        <li>
                            <a href="index.php">
                                <i data-feather="home"></i>
                                <span data-key="t-dashboard">Dashboard</span>
                            </a>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="grid"></i>
                                <span data-key="t-apps">Apps</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li>
                                    <a href="apps-calendar.html">
                                        <span data-key="t-calendar">Calendar</span>
                                    </a>
                                </li>

                                <li>
                                    <a href="apps-chat.html">
                                        <span data-key="t-chat">Chat</span>
                                    </a>
                                </li>

                                <li>
                                    <a href="javascript: void(0);" class="has-arrow">
                                        <span data-key="t-email">Email</span>
                                    </a>
                                    <ul class="sub-menu" aria-expanded="false">
                                        <li><a href="apps-email-inbox.html" data-key="t-inbox">Inbox</a></li>
                                        <li><a href="apps-email-read.html" data-key="t-read-email">Read Email</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript: void(0);" class="has-arrow">
                                        <span data-key="t-invoices">Invoices</span>
                                    </a>
                                    <ul class="sub-menu" aria-expanded="false">
                                        <li><a href="apps-invoices-list.html" data-key="t-invoice-list">Invoice List</a></li>
                                        <li><a href="apps-invoices-detail.html" data-key="t-invoice-detail">Invoice Detail</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript: void(0);" class="has-arrow">
                                        <span data-key="t-contacts">Contacts</span>
                                    </a>
                                    <ul class="sub-menu" aria-expanded="false">
                                        <li><a href="apps-contacts-grid.html" data-key="t-user-grid">User Grid</a></li>
                                        <li><a href="apps-contacts-list.html" data-key="t-user-list">User List</a></li>
                                        <li><a href="apps-contacts-profile.html" data-key="t-profile">Profile</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript: void(0);" class="">
                                        <span data-key="t-blog">Blog</span>
                                        <span class="badge rounded-pill badge-soft-danger float-end" key="t-new">New</span>
                                    </a>
                                    <ul class="sub-menu" aria-expanded="false">
                                        <li><a href="apps-blog-grid.html" data-key="t-blog-grid">Blog Grid</a></li>
                                        <li><a href="apps-blog-list.html" data-key="t-blog-list">Blog List</a></li>
                                        <li><a href="apps-blog-detail.html" data-key="t-blog-details">Blog Details</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="users"></i>
                                <span data-key="t-authentication">Authentication</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="auth-login.html" data-key="t-login">Login</a></li>
                                <li><a href="auth-register.html" data-key="t-register">Register</a></li>
                                <li><a href="auth-recoverpw.html" data-key="t-recover-password">Recover Password</a></li>
                                <li><a href="auth-lock-screen.html" data-key="t-lock-screen">Lock Screen</a></li>
                                <li><a href="auth-logout.html" data-key="t-logout">Log Out</a></li>
                                <li><a href="auth-confirm-mail.html" data-key="t-confirm-mail">Confirm Mail</a></li>
                                <li><a href="auth-email-verification.html" data-key="t-email-verification">Email Verification</a></li>
                                <li><a href="auth-two-step-verification.html" data-key="t-two-step-verification">Two Step Verification</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="file-text"></i>
                                <span data-key="t-pages">Pages</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="pages-starter.html" data-key="t-starter-page">Starter Page</a></li>
                                <li><a href="pages-maintenance.html" data-key="t-maintenance">Maintenance</a></li>
                                <li><a href="pages-comingsoon.html" data-key="t-coming-soon">Coming Soon</a></li>
                                <li><a href="pages-timeline.html" data-key="t-timeline">Timeline</a></li>
                                <li><a href="pages-faqs.html" data-key="t-faqs">FAQs</a></li>
                                <li><a href="pages-pricing.html" data-key="t-pricing">Pricing</a></li>
                                <li><a href="pages-404.html" data-key="t-error-404">Error 404</a></li>
                                <li><a href="pages-500.html" data-key="t-error-500">Error 500</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="layouts-horizontal.html">
                                <i data-feather="layout"></i>
                                <span data-key="t-horizontal">Horizontal</span>
                            </a>
                        </li>

                        <li class="menu-title mt-2" data-key="t-components">Action</li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="users"></i>
                                <span data-key="t-tables">Customer</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="customer-register.php" data-key="t-basic-tables">Register Customer</a></li>
                                <li><a href="fetch-customer.php" data-key="t-data-tables">Fetch Customer</a></li>
                            </ul>
                        </li>

                        <li class="menu-title mt-2" data-key="t-components">Elements</li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="briefcase"></i>
                                <span data-key="t-components">Components</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="ui-alerts.html" data-key="t-alerts">Alerts</a></li>
                                <li><a href="ui-buttons.html" data-key="t-buttons">Buttons</a></li>
                                <li><a href="ui-cards.html" data-key="t-cards">Cards</a></li>
                                <li><a href="ui-carousel.html" data-key="t-carousel">Carousel</a></li>
                                <li><a href="ui-dropdowns.html" data-key="t-dropdowns">Dropdowns</a></li>
                                <li><a href="ui-grid.html" data-key="t-grid">Grid</a></li>
                                <li><a href="ui-images.html" data-key="t-images">Images</a></li>
                                <li><a href="ui-modals.html" data-key="t-modals">Modals</a></li>
                                <li><a href="ui-offcanvas.html" data-key="t-offcanvas">Offcanvas</a></li>
                                <li><a href="ui-progressbars.html" data-key="t-progress-bars">Progress Bars</a></li>
                                <li><a href="ui-placeholders.html" data-key="t-progress-bars">Placeholders</a></li>
                                <li><a href="ui-tabs-accordions.html" data-key="t-tabs-accordions">Tabs & Accordions</a></li>
                                <li><a href="ui-typography.html" data-key="t-typography">Typography</a></li>
                                <li><a href="ui-toasts.html" data-key="t-typography">Toasts</a></li>
                                <li><a href="ui-video.html" data-key="t-video">Video</a></li>
                                <li><a href="ui-general.html" data-key="t-general">General</a></li>
                                <li><a href="ui-colors.html" data-key="t-colors">Colors</a></li>
                                <li><a href="ui-utilities.html" data-key="t-colors">Utilities</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="gift"></i>
                                <span data-key="t-ui-elements">Extended</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="extended-lightbox.html" data-key="t-lightbox">Lightbox</a></li>
                                <li><a href="extended-rangeslider.html" data-key="t-range-slider">Range Slider</a></li>
                                <li><a href="extended-sweet-alert.html" data-key="t-sweet-alert">SweetAlert 2</a></li>
                                <li><a href="extended-session-timeout.html" data-key="t-session-timeout">Session Timeout</a></li>
                                <li><a href="extended-rating.html" data-key="t-rating">Rating</a></li>
                                <li><a href="extended-notifications.html" data-key="t-notifications">Notifications</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);">
                                <i data-feather="box"></i>
                                <span class="badge rounded-pill badge-soft-danger  text-danger float-end">7</span>
                                <span data-key="t-forms">Forms</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="form-elements.html" data-key="t-form-elements">Basic Elements</a></li>
                                <li><a href="form-validation.html" data-key="t-form-validation">Validation</a></li>
                                <li><a href="form-advanced.html" data-key="t-form-advanced">Advanced Plugins</a></li>
                                <li><a href="form-editors.html" data-key="t-form-editors">Editors</a></li>
                                <li><a href="form-uploads.html" data-key="t-form-upload">File Upload</a></li>
                                <li><a href="form-wizard.html" data-key="t-form-wizard">Wizard</a></li>
                                <li><a href="form-mask.html" data-key="t-form-mask">Mask</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="sliders"></i>
                                <span data-key="t-tables">Tables</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="tables-basic.html" data-key="t-basic-tables">Bootstrap Basic</a></li>
                                <li><a href="tables-datatable.html" data-key="t-data-tables">DataTables</a></li>
                                <li><a href="tables-responsive.html" data-key="t-responsive-table">Responsive</a></li>
                                <li><a href="tables-editable.html" data-key="t-editable-table">Editable</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="pie-chart"></i>
                                <span data-key="t-charts">Charts</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="charts-apex.html" data-key="t-apex-charts">Apexcharts</a></li>
                                <li><a href="charts-echart.html" data-key="t-e-charts">Echarts</a></li>
                                <li><a href="charts-chartjs.html" data-key="t-chartjs-charts">Chartjs</a></li>
                                <li><a href="charts-knob.html" data-key="t-knob-charts">Jquery Knob</a></li>
                                <li><a href="charts-sparkline.html" data-key="t-sparkline-charts">Sparkline</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="cpu"></i>
                                <span data-key="t-icons">Icons</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="icons-boxicons.html" data-key="t-boxicons">Boxicons</a></li>
                                <li><a href="icons-materialdesign.html" data-key="t-material-design">Material Design</a></li>
                                <li><a href="icons-dripicons.html" data-key="t-dripicons">Dripicons</a></li>
                                <li><a href="icons-fontawesome.html" data-key="t-font-awesome">Font Awesome 5</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="map"></i>
                                <span data-key="t-maps">Maps</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="maps-google.html" data-key="t-g-maps">Google</a></li>
                                <li><a href="maps-vector.html" data-key="t-v-maps">Vector</a></li>
                                <li><a href="maps-leaflet.html" data-key="t-l-maps">Leaflet</a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="javascript: void(0);" class="has-arrow">
                                <i data-feather="share-2"></i>
                                <span data-key="t-multi-level">Multi Level</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="true">
                                <li><a href="javascript: void(0);" data-key="t-level-1-1">Level 1.1</a></li>
                                <li>
                                    <a href="javascript: void(0);" class="has-arrow" data-key="t-level-1-2">Level 1.2</a>
                                    <ul class="sub-menu" aria-expanded="true">
                                        <li><a href="javascript: void(0);" data-key="t-level-2-1">Level 2.1</a></li>
                                        <li><a href="javascript: void(0);" data-key="t-level-2-2">Level 2.2</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>



                    </ul>


                </div>
                <!-- Sidebar -->
            </div>
        </div>
        <!-- Left Sidebar End -->



        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                
                                <div class="card-body">
                                    <table id="datatable-buttons" class="table table-bordered table-table-responsive nowrap w-100">
                                        <thead>
                                            <tr>
                                                <th>Actions</th>
                                                <th>ID</th>
                                                <th>Honorific</th>
                                                <th>First Name</th>
                                                <th>Last Name</th>
                                                <th>Email</th>
                                                <th>Mobile 1</th>
                                                <th>Mobile 2</th>
                                                <th>Whatsapp</th>
                                                
                                            </tr>
                                        </thead
                                        <tbody>

                                        <?php
                                        $query = "SELECT * FROM register_customer";
                                        $query_run = mysqli_query($con, $query);

                                        if (mysqli_num_rows($query_run) > 0) {
                                            foreach ($query_run as $customer) {
                                        ?>
                                                <tr>
                                                    <th><button>1</button> <button>2</button> <button>3</button> <button>4</button> <button>1</button> <button>1</button></th>
                                                    <th><?= $customer['id'] ?></th>
                                                    <th><?= $customer['honorific'] ?></th>
                                                    <th><?= $customer['first_name'] ?></th>
                                                    <th><?= $customer['last_name'] ?></th>
                                                    <th><?= $customer['email'] ?></th>
                                                    <th><?= $customer['mobile_number'] ?></th>
                                                    <th><?= $customer['alternate_number'] ?></th>
                                                    <th><?= $customer['whatsapp_number'] ?></th>
                                                </tr>
                                        <?php
                                            }
                                        } else {
                                            echo "<h5>No records found</h5>";
                                        }

                                        ?>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- end cardaa -->
                        </div> <!-- end col -->
                    </div> <!-- end row -->


                </div> <!-- container-fluid -->
            </div>
            <!-- End Page-content -->



        </div>
        <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->

    <!-- Right bar overlay-->
    <div class="rightbar-overlay"></div>

    <!-- JAVASCRIPT -->
    <script src="assets/libs/jquery/jquery.min.js"></script>
    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/metismenu/metisMenu.min.js"></script>
    <script src="assets/libs/simplebar/simplebar.min.js"></script>
    <script src="assets/libs/node-waves/waves.min.js"></script>
    <script src="assets/libs/feather-icons/feather.min.js"></script>
    <!-- pace js -->
    <script src="assets/libs/pace-js/pace.min.js"></script>

    <!-- Required datatable js -->
    <script src="assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
    <!-- Buttons examples -->
    <script src="assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
    <script src="assets/libs/jszip/jszip.min.js"></script>
    
    <script src="assets/libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="assets/libs/datatables.net-buttons/js/buttons.colVis.min.js"></script>

    <!-- Responsive examples -->
    <script src="assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

    <!-- Datatable init js -->
    <script src="assets/js/pages/datatables.init.js"></script>

    <script src="assets/js/app.js"></script>

</body>

<!-- Mirrored from themesbrand.com/minia/layouts-lts/pages-starter.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Dec 2024 12:07:01 GMT -->

</html>




<div class="row">
    <h6 class="mb-sm-0 ">Previous Enquires</h6>
</div>
<div class="row">
    <div class="col-12">
        <div class="card">

            <div class="card-body">
                <div class="table-rep-plugin">
                    <div class="table-responsive mb-0" data-pattern="priority-columns">
                        <table id="datatable-buttons" class="table table-bordered table-table-responsive nowrap w-100">
                            <thead>
                                <tr>
                                    <th>Date of Enquiry</th>
                                    <th>Customer ID</th>
                                    <th>Enquiry For</th>
                                    <th>Description</th>
                                    <th>Status</th>

                                </tr>
                            </thead
                                <tbody>
                            <?php
                            if (isset($_GET['id'])) {

                                $customer_id = mysqli_real_escape_string($con, $_GET['id']);
                                $query = "SELECT * FROM enquiry WHERE register_customer_id='$customer_id' ";
                                $query_run = mysqli_query($con, $query);

                                if (mysqli_num_rows($query_run) > 0) {
                                    foreach ($query_run as $enquiry) {
                            ?>
                                        <tr>
                                            <th><?= $enquiry['dateOfEnquiry'] ?></th>
                                            <th><?= $enquiry['register_customer_id'] ?></th>
                                            <th><?= $enquiry['enquiry_title'] ?></th>
                                            <th><?= $enquiry['description'] ?></th>
                                            <th><?= $enquiry['status'] ?></th>
                                        </tr>
                            <?php
                                    }
                                }
                            }


                            ?>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- end cardaa -->
    </div>
</div>





<?php

session_start();
require 'dbcon.php';
require('./fpdf186/fpdf.php');

$pdf = new FPDF('P', 'mm', "A4");
$pdf->AddPage();
$pdf->SetFont('Arial', 'BUI', 20);

//note-     Title-Start
$pageWidth = $pdf->GetPageWidth();
$title = "Quotation";

$titleWidth = $pdf->GetStringWidth($title); // Remove the quotes
$xTitle = ($pageWidth - $titleWidth) / 2;

$pdf->SetX($xTitle);
$pdf->Cell($titleWidth, 10, $title, 0, 1, 'C');
//note-   ____Title-End___

//note-   ____Our Company Details____
$Landmark = "A/2, near Reliance Mall,";
$Nagar = "Swaroop Society, Vakil Nagar,";
$Area = "Erandwane,";
$Location = "Pune, Maharashtra 411004";
$Contact = "98506 39994";
$Website = "webmirchi.in";

$pdf->SetFont('Arial', 'B', 15);
$pdf->Cell(50, 5, "Webmirchi Pvt. Ltd.", 0, 0);
$pdf->SetFont('Arial', '', 10);
$date = date('F j,Y');
$pdf->Cell(0, 5, "Date: $date", 0, 1, 'R');
$pdf->Cell(50, 5, $Landmark, 0, 1);
$pdf->Cell(50, 5, $Nagar, 0, 1);
$pdf->Cell(50, 5, $Area, 0, 1);
$pdf->Cell(50, 5, $Location, 0, 1);
$pdf->Cell(50, 5, "Mobile: $Contact", 0, 1);
$pdf->Cell(50, 5, "Website: $Website", 0, 1);
//note-   ____Company Details End____

$pdf->SetY(100);
$pdf->SetFillColor(0, 0, 0);

// $pdf->SetTextColor(255,255,255);
$packageTitleWidth = 120;
$packagetitle = $pageWidth - $packageTitleWidth;
$rate = ($packagetitle / 2) - 10;
$pdf->SetFont('Arial', 'BI', 10);
$pdf->Cell(120, 5, 'WEBSITE PACKAGE', 1, 0, 'C', false);
$pdf->Cell($rate, 5, 'MRP', 1, 0, 'C', false);
$pdf->Cell($rate, 5, 'Offer Price ', 1, 1, 'C', false);

if ($_SERVER['REQUEST_METHOD'] == "POST") {


    $register_customer_id = mysqli_real_escape_string($con, $_POST['register_customer_id']);
    $title = mysqli_real_escape_string($con, $_POST['title']);
    $description = mysqli_real_escape_string($con, $_POST['description']);
    $mrp = mysqli_real_escape_string($con, $_POST['mrp']);
    $offerprice = mysqli_real_escape_string($con, $_POST['offerprice']);

    $stmt = $con->prepare("INSERT INTO quotation_web (register_customer_id, title, description, mrp, offerprice) VALUES (?, ?, ?, ?, ?)");
    $stmt->bind_param(
        "issii",
        $register_customer_id,
        $title,
        $description,
        $mrp,
        $offerprice
    );

    if ($stmt->execute()) {
        $_SESSION['message'] = "Successfully Added to Master!";
    } else {
        $_SESSION['message'] = "Failed: " . $stmt->error;
    }

    // Redirect or handle the response


    $pdf->SetFont('Arial', '', 10);
    $pdf->Cell(120, 5, $title, 1, 0);
    $pdf->Cell($rate, 5, "$mrp /-", 1, 0, 'C');
    $pdf->Cell($rate, 5, "$offerprice /-", 1, 1, 'C');

    // Empty cells for layout
    $pdf->Cell(120, 5, '', 1, 0, 'C', false);
    $pdf->Cell($rate, 5, '', 1, 0, 'C', false);
    $pdf->Cell($rate, 5, '', 1, 1, 'C', false);

    // Assuming you want to add tax to the final amount
    $tax = 0.18 * $offerprice; // Example tax rate of 18%
    $finalamt = $offerprice + $tax;

    $pdf->SetX(130);
    $pdf->SetFont('Arial', 'BI', 10);
    $pdf->Cell($rate, 5, 'Taxes ', 0, 0, 'R', false);
    $pdf->Cell($rate, 5, "$tax /-", 1, 1, 'C', false);

    $pdf->SetX(130);
    $pdf->SetFont('Arial', 'BI', 10);
    $pdf->Cell($rate, 5, 'Total ', 0, 0, 'R', false);
    $pdf->Cell($rate, 5, "$finalamt /-", 1, 1, 'C', false);
}

// Check for space and add footer
$pdf->SetFont('Arial', 'I', 8);
$pdf->SetY(-35); // Position 15 units from the bottom
$pdf->Cell(0, 10, 'Invoice generated by Webmirchi PVT. LTD.', 0, 1, 'C');

// Output the PDF
$pdf->Output();



// Validate and sanitize inputs
if (!isset($_POST['register_customer_id'], $_POST['title'], $_POST['description'], $_POST['mrp'], $_POST['offerprice'])) {
    die("Required fields missing");
}

$register_customer_id = mysqli_real_escape_string($con, $_POST['register_customer_id']);
$title = mysqli_real_escape_string($con, $_POST['title']);
$description = mysqli_real_escape_string($con, $_POST['description']);
$mrp = isset($_POST['mrp']) && is_numeric($_POST['mrp']) ? (float)$_POST['mrp'] : 0;
$offerprice = isset($_POST['offerprice']) && is_numeric($_POST['offerprice']) ? (float)$_POST['offerprice'] : 0;

if ($mrp <= 0 || $offerprice <= 0) {
    die("Invalid price values. Please enter valid numeric values.");
}

// Insert into database
$stmt = $con->prepare("INSERT INTO quotation_web (register_customer_id, title, description, mrp, offerprice) VALUES (?, ?, ?, ?, ?)");
$stmt->bind_param("issii", $register_customer_id, $title, $description, $mrp, $offerprice);

if ($stmt->execute()) {
    $_SESSION['message'] = "Successfully Added to Master!";
    header("Location:quotation-web.php");
    exit();
} else {
    $_SESSION['message'] = "Failed: " . $stmt->error;
    error_log("SQL Error: " . $stmt->error);
    $_SESSION['message'] = "Successfully Added to Master!";
    header("Location:quotation-web.php");
    exit();
}












<?php
session_start();
require 'dbcon.php';

// Check if the form is submitted
if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    // Retrieve form data
    $register_customer_id = $_POST['register_customer_id'];
    $title = $_POST['title'];
    $device = $_POST['device'];
    $description = $_POST['description'];
    $company = $_POST['company'];
    $model = $_POST['model'];
    $mrp = $_POST['mrp'];
    $offerprice = $_POST['offerprice'];
    $status = $_POST['status'];
    $deviceCondition = $_POST['deviceCondition'];

    // Handle image uploads
    $target_dir = "uploads/"; // Directory where images will be saved

    // Handle image 1
    $image1 = isset($_FILES['image1']) ? $_FILES['image1'] : null;
    $image1Path = '';
    if ($image1 && $image1['error'] == 0) {
        $image1Name = basename($image1['name']);
        $image1Path = $target_dir . $image1Name;
        if (move_uploaded_file($image1['tmp_name'], $image1Path)) {
            echo "Image 1 uploaded successfully.";
        } else {
            echo "Error uploading image 1.";
        }
    }

    // Handle image 2
    $image2 = isset($_FILES['image2']) ? $_FILES['image2'] : null;
    $image2Path = '';
    if ($image2 && $image2['error'] == 0) {
        $image2Name = basename($image2['name']);
        $image2Path = $target_dir . $image2Name;
        if (move_uploaded_file($image2['tmp_name'], $image2Path)) {
            echo "Image 2 uploaded successfully.";
        } else {
            echo "Error uploading image 2.";
        }
    }

    // Handle image 3
    $image3 = isset($_FILES['image3']) ? $_FILES['image3'] : null;
    $image3Path = '';
    if ($image3 && $image3['error'] == 0) {
        $image3Name = basename($image3['name']);
        $image3Path = $target_dir . $image3Name;
        if (move_uploaded_file($image3['tmp_name'], $image3Path)) {
            echo "Image 3 uploaded successfully.";
        } else {
            echo "Error uploading image 3.";
        }
    }

    // SQL Query to insert form data into the database
    $sql = "INSERT INTO quotation_repair (register_customer_id, title, device, description, company, model, mrp, offerprice, status,device_condition, image1, image2, image3) 
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";

    // Prepare the statement
    if ($stmt = mysqli_prepare($con, $sql)) {
        // Bind the parameters (image paths as strings)
        mysqli_stmt_bind_param($stmt, 'isssssiisssss', $register_customer_id, $title, $device, $description, $company, $model, $mrp, $offerprice, $status, $deviceCondition ,$image1Path, $image2Path, $image3Path);

        // Execute the statement
        if (mysqli_stmt_execute($stmt)) {
            echo "Quotation data has been successfully saved!";
        } else {
            echo "Error executing SQL query: " . mysqli_error($con);
        }

        // Close the prepared statement
        mysqli_stmt_close($stmt);
    } else {
        echo "Error preparing the SQL statement: " . mysqli_error($con);
    }
}
?>









<?php
// Include database connection
include 'dbcon.php';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Get form data
    $register_customer_id = $_POST['register_customer_id'];
    $title = $_POST['title'];
    $device = $_POST['device'];
    $description = $_POST['description'];
    $company = $_POST['company'];
    $model = $_POST['model'];
    $mrp = (int)$_POST['mrp'];
    $offerprice = (int)$_POST['offerprice'];
    $status = $_POST['status'];
    $deviceCondition = $_POST['deviceCondition'];

    // Upload directory
    $uploadDir = 'uploads/';

    // Create uploads folder if it doesn't exist
    if (!file_exists($uploadDir)) {
        mkdir($uploadDir, 0777, true);
    }

    // Initialize image paths
    $image1Path = '';
    $image2Path = '';
    $image3Path = '';

    // Decode and save images locally
    if (!empty($_POST['image1'])) {
        $base64Image = $_POST['image1']; // Base64 string from the form
        $imageData = base64_decode($base64Image); // Decode the base64 string
        $image1Path = $uploadDir . 'image1.png'; // Set the image path
        file_put_contents($image1Path, $imageData); // Save the image to the specified path
    }

    if (!empty($_POST['image2'])) {
        $base64Image = $_POST['image2']; // Base64 string from the form
        $imageData = base64_decode($base64Image); // Decode the base64 string
        $image2Path = $uploadDir . 'image2.png'; // Set the image path
        file_put_contents($image2Path, $imageData); // Save the image to the specified path
    }

    if (!empty($_POST['image3'])) {
        $base64Image = $_POST['image3']; // Base64 string from the form
        $imageData = base64_decode($base64Image); // Decode the base64 string
        $image3Path = $uploadDir . 'image3.png'; // Set the image path
        file_put_contents($image3Path, $imageData); // Save the image to the specified path
    }

    // Insert data into the database
    $query = "INSERT INTO quotation_repair (register_customer_id, title, device, description, company, model, mrp, offerprice, status, device_condition, image1, image2, image3) 
              VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);";

    $stmt = $con->prepare($query);
    if (!$stmt) {
        die("Prepare failed: " . $con->error);
    }

    $stmt->bind_param(
        'isssssiisssss',
        $register_customer_id,
        $title,
        $device,
        $description,
        $company,
        $model,
        $mrp,
        $offerprice,
        $status,
        $deviceCondition,
        $image1Path,
        $image2Path,
        $image3Path
    );

    if ($stmt->execute()) {
        echo "Quotation submitted successfully!";
    } else {
        echo "Error: " . $stmt->error;
    }

    $stmt->close();
    $con->close();
} else {
    echo "Invalid request method.";
}
?>











<?php
// Include database connection
include 'dbcon.php';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Check required fields
    $requiredFields = ['register_customer_id', 'title', 'device', 'description', 'company', 'model', 'mrp', 'offerprice', 'status', 'deviceCondition'];
    foreach ($requiredFields as $field) {
        if (empty($_POST[$field])) {
            die("Error: Missing required field - " . $field);
        }
    }

    // Get and sanitize form data
    $register_customer_id = (int)$_POST['register_customer_id'];
    $title = htmlspecialchars($_POST['title'], ENT_QUOTES, 'UTF-8');
    $device = htmlspecialchars($_POST['device'], ENT_QUOTES, 'UTF-8');
    $description = htmlspecialchars($_POST['description'], ENT_QUOTES, 'UTF-8');
    $company = htmlspecialchars($_POST['company'], ENT_QUOTES, 'UTF-8');
    $model = htmlspecialchars($_POST['model'], ENT_QUOTES, 'UTF-8');
    $mrp = (int)$_POST['mrp'];
    $offerprice = (int)$_POST['offerprice'];
    $status = htmlspecialchars($_POST['status'], ENT_QUOTES, 'UTF-8');
    $deviceCondition = htmlspecialchars($_POST['deviceCondition'], ENT_QUOTES, 'UTF-8');

    // Upload directory
    $uploadDir = 'uploads/';

    // Create uploads folder if it doesn't exist
    if (!file_exists($uploadDir)) {
        if (!mkdir($uploadDir, 0755, true)) {
            die("Error: Failed to create upload directory.");
        }
    }

    // Function to save base64 images
    function saveBase64Image($base64String, $uploadDir, $prefix) {
        if (empty($base64String)) {
            return '';
        }
        $imageData = base64_decode($base64String);
        if ($imageData === false) {
            die("Error: Invalid base64 image data.");
        }
        $imagePath = $uploadDir . uniqid($prefix . '_', true) . '.png';
        if (file_put_contents($imagePath, $imageData) === false) {
            die("Error: Failed to save image.");
        }
        return $imagePath;
    }

    // Decode and save images locally
    $image1Path = saveBase64Image($_POST['image1'] ?? '', $uploadDir, 'image1');
    $image2Path = saveBase64Image($_POST['image2'] ?? '', $uploadDir, 'image2');
    $image3Path = saveBase64Image($_POST['image3'] ?? '', $uploadDir, 'image3');

    // Insert data into the database
    $query = "INSERT INTO quotation_repair (
                register_customer_id, title, device, description, company, model, mrp, offerprice, status, device_condition, image1, image2, image3
              ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);";

    $stmt = $con->prepare($query);
    if (!$stmt) {
        die("Error: Database query preparation failed - " . $con->error);
    }

    // Bind parameters
    $stmt->bind_param(
        'isssssiisssss',
        $register_customer_id,
        $title,
        $device,
        $description,
        $company,
        $model,
        $mrp,
        $offerprice,
        $status,
        $deviceCondition,
        $image1Path,
        $image2Path,
        $image3Path
    );

    // Execute and check the result
    if ($stmt->execute()) {
        echo "Quotation submitted successfully!";
    } else {
        echo "Error: " . $stmt->error;
    }

    // Clean up
    $stmt->close();
    $con->close();
} else {
    echo "Invalid request method.";
}
?>









<?php
session_start();
require 'dbcon.php';
require('./fpdf186/fpdf.php');

ob_start(); // Start output buffering

if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $register_customer_id = mysqli_real_escape_string($con, $_POST['register_customer_id']);
    $title = mysqli_real_escape_string($con, $_POST['title']);
    $desc = $_POST['description'];
    $mrp = mysqli_real_escape_string($con, $_POST['mrp']);
    $offer_price = mysqli_real_escape_string($con, $_POST['offerprice']);




    $stmt = $con->prepare("INSERT INTO quotation_web (register_customer_id,title,description,mrp,offerprice) VALUES (?,?,?,?,?)");

    //fetch customer details


    $query = "SELECT * FROM register_customer WHERE register_customer_id='$register_customer_id'";
    $query_run = mysqli_query($con, $query);

    if (mysqli_num_rows($query_run) > 0) {
        $customer = mysqli_fetch_assoc($query_run);
    } else {
        echo "Customer not found!";
        exit;
    }




    $stmt->bind_param(
        "issii",
        $register_customer_id,
        $title,
        $desc,
        $mrp,
        $offer_price
    );




    if ($stmt->execute()) {
        $_SESSION['message'] = "Successfully Submitted!";
        // header("location: quotation-web.php");
        // exit();
    } else {
        $_SESSION['message'] = "Failed";
        // header("location: quotation-web.php");
        // exit();
    }

    $stmt->close();
    $con->close();

    // Create PDF
    $pdf = new FPDF('P', 'mm', "A4");
    $pdf->AddPage();
    $pdf->SetFont('Arial', 'BUI', 20);

    // Title
    $pageWidth = $pdf->GetPageWidth();
    $titleText = "Logo here";
    $titleWidth = $pdf->GetStringWidth($titleText);
    $xTitle = ($pageWidth - $titleWidth) / 2;

    $pdf->SetX($xTitle);
    $pdf->Cell($titleWidth, 10, $titleText, 0, 1, 'C');

    $title = "QUOTATION";
    // $titleWidth = $pdf->GetStringWidth($title);
    // $xTitle = ($pageWidth - $titleWidth) / 2;


    $pdf->SetFillColor(0, 0, 128);
    $pdf->SetFont('Times', 'B', 25);
    $pdf->SetTextColor(255, 255, 255);
    // $pdf->SetX($xTitle);
    $pdf->Cell(190, 15, $title, 0, 1, 'C', true);



    $pdf->SetTextColor(0, 0, 0);
    // Customer Details
    $pdf->SetY(40);
    $pdf->SetFont('Times', '', 15);
    $date = date('F j, Y');
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Customer Name:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7, $customer['first_name'].' '.$customer['last_name'], 1, 0);
    $pdf->Cell(0, 7, "Date: $date", 0, 1, 'R');
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 14, "Address:", 'LR', 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->MultiCell(150, 7, $customer['street'].' '.$customer['area'].' '.$customer['city'].' '.$customer['city'].' '.$customer['district'].' '.$customer['state'].' '.$customer['country'].' '.$customer['pincode'] , 1);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Mobile-1:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(80, 7, $customer['mobile_number'], 1, 0);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(30, 7, "Mobile-2:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7,$customer['whatsapp_number'], 1, 1);
    // $pdf->SetFont('Times', 'B', 15);
    // $pdf->Cell(60, 7, "Contact Person Name:", 1, 0);
    // $pdf->SetFont('Times', '', 15);
    // $pdf->Cell(0, 7, "Name", 1, 1);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Email:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7, $customer['email'], 1, 0);

    // Table Header
    $pdf->SetY(90);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(0, 7, 'WEBSITE PACKAGE', 1, 1, 'C', false);


    // Table Content
    $pdf->SetFont('Arial', '', 10);
    $pdf->MultiCell(0, 7, $desc, 1, 0);


    $pdf->SetFont('Times', 'B', 10);
    $pdf->Cell(30, 7, "MRP:", 1, 0);
    $pdf->SetFont('Times', 'B', 12);
    $pdf->Cell(100, 7, $mrp." /-", 1, 0);

    $pdf->SetFont('Times', 'B', 10);
    $pdf->Cell(30, 7, "OFFER PRICE:", 1, 0);
    $pdf->SetFont('Times', 'B', 12);
    $pdf->Cell(0, 7, $offer_price." /-", 1, 1);

    $pdf->SetFont('Times', 'B', 10);
    $pdf->MultiCell(0, 7, "Terms and conditions", 1, 'C', false);

    // Taxes and Total
    // $tax = number_format(0 * $offerprice, 2); // 18% tax
    // $finalamt = number_format($offerprice + $tax, 2);

    $pdf->SetY(-62);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(0, 15, "FOR WEBMIRCHI IT SOLUTIONS", 0, 1, 'R');

    $pdf->SetY(-50);
    $pdf->SetFont('Times', '', 10);
    $pdf->Cell(0, 5, "  Webmirchi IT Solutions, Sr.No.43/14, Prasad Apartment, Ground Floor, Near Bank of India, Erandwane, Pune, Maharashtra 411004  ", 'LTR', 1, 'C');
    $pdf->Cell(0, 5, "Mobile No: 9850639994, 9325229999", 'LR', 1, 'C');
    $pdf->Cell(0, 5, "Email ID: info@webmirchi.com, Website: www.webmirchi.com", 'LRB', 1, 'C');

    // Footer
    $pdf->SetFont('Arial', 'I', 8);
    $pdf->SetY(-35);
    $pdf->Cell(0, 10, 'quotation generated by Webmirchi Pvt. Ltd.', 0, 1, 'C');

    // Output the PDF
    ob_end_clean(); // Clear the buffer
    $pdf->Output('I', 'Quotation.pdf'); // Display in the browser
    exit; // Stop further script execution
}



<?php
// Include necessary libraries
require 'dbcon.php'; // Assuming dbcon.php handles your DB connection
require_once('./TCPDF-main/tcpdf.php'); // Include the TCPDF library

// Start output buffering to avoid issues with TCPDF
ob_start(); 

// Create new TCPDF object
$pdf = new TCPDF();

// Set document information
$pdf->SetCreator('Your Company');
$pdf->SetAuthor('Your Company');
$pdf->SetTitle('Invoice');

// Add a page to the PDF
$pdf->AddPage();

// Initialize the HTML variable
$html = '';  // Always initialize the variable

// Check if POST data is available (assuming you are sending register_customer_id via POST)
if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['register_customer_id'])) {
    
    // Sanitize the customer ID
    $register_customer_id = mysqli_real_escape_string($con, $_POST['register_customer_id']); // Fetch the customer ID from POST

    // Fetch customer details from the database
    $query = "SELECT * FROM register_customer WHERE register_customer_id='$register_customer_id'";
    $query_run = mysqli_query($con, $query);

    if (mysqli_num_rows($query_run) > 0) {
        $customer = mysqli_fetch_assoc($query_run); // Fetch customer details
    } else {
        echo "Customer not found!";
        exit;
    }

    // Fetch quotation master details (can replace with dynamic query based on user input)
    $query1 = "SELECT * FROM quotation_web_master WHERE id=5";  // Adjust this query based on the logic
    $query_run1 = mysqli_query($con, $query1);

    if (mysqli_num_rows($query_run1) > 0) {
        $master1 = mysqli_fetch_assoc($query_run1); // Fetch master description (e.g., terms and conditions)
    } else {
        echo "Quotation Master data not found!";
        exit;
    }



    //todo generate full template tomorrow the invoive is generated successfully........

    // Construct the HTML content for the invoice
    $html = '
    <h1 style="text-align: center;">Invoice</h1>
    <p><strong>Description: </strong>' . $master1['description'] . '</p>
    <ul>
        <li>Example Item</li>
    </ul>
    <table width="100%" style="border: 1px solid #000; border-collapse: collapse;">
        <tr>
            <td width="50%" style="padding: 5px;">
                <strong>Company Name:</strong><br>
                Webmirchi IT Solutions<br>
                Address: Prasad Apartment, Ground Floor, Near Bank of India, Erandwane, Pune<br>
                Phone: 9850639994<br>
                Email: info@webmirchi.com
            </td>
            <td width="50%" style="padding: 5px;">
                <strong>Customer:</strong><br>
                ' . $customer['first_name'] . ' ' . $customer['last_name'] . '<br>
                Address: ' . $customer['street'] . ', ' . $customer['area'] . ', ' . $customer['city'] . '<br>
                Phone: ' . $customer['mobile_number'] . '<br>
                Email: ' . $customer['email'] . '
            </td>
        </tr>
    </table>
    <br><br>
    <table width="100%" style="border: 1px solid #000; border-collapse: collapse;">
        <tr>
            <th style="border: 1px solid #000; padding: 5px;">Item</th>
            <th style="border: 1px solid #000; padding: 5px;">Quantity</th>
            <th style="border: 1px solid #000; padding: 5px;">Unit Price</th>
            <th style="border: 1px solid #000; padding: 5px;">Total</th>
        </tr>
        <tr>
            <td style="border: 1px solid #000; padding: 5px;">Web Development</td>
            <td style="border: 1px solid #000; padding: 5px;">1</td>
            <td style="border: 1px solid #000; padding: 5px;">$1000</td>
            <td style="border: 1px solid #000; padding: 5px;">$1000</td>
        </tr>
        <tr>
            <td colspan="3" style="border: 1px solid #000; text-align: right; padding: 5px;">Subtotal</td>
            <td style="border: 1px solid #000; padding: 5px;">$1000</td>
        </tr>
        <tr>
            <td colspan="3" style="border: 1px solid #000; text-align: right; padding: 5px;">Tax (18%)</td>
            <td style="border: 1px solid #000; padding: 5px;">$180</td>
        </tr>
        <tr>
            <td colspan="3" style="border: 1px solid #000; text-align: right; padding: 5px;"><strong>Total</strong></td>
            <td style="border: 1px solid #000; padding: 5px;"><strong>$1180</strong></td>
        </tr>
    </table>
    <br><br>
    <p><strong>Terms and Conditions:</strong><br>Payment due within 30 days. Late payments may incur additional fees.</p>
';
}

// Output the HTML content as a PDF
$pdf->writeHTML($html, true, false, true, false, '');

// Close and output PDF (force download)
$pdf->Output('invoice.pdf'); // 'D' will force the PDF to be downloaded

exit;
?>






<?php
session_start();
require 'dbcon.php';
require('./fpdf186/fpdf.php');

ob_start(); // Start output buffering

if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $register_customer_id = mysqli_real_escape_string($con, $_POST['register_customer_id']);
    $title = mysqli_real_escape_string($con, $_POST['title']);
    $desc = $_POST['description'];
    $mrp = mysqli_real_escape_string($con, $_POST['mrp']);
    $offer_price = mysqli_real_escape_string($con, $_POST['offerprice']);




    $stmt = $con->prepare("INSERT INTO quotation_web (register_customer_id,title,description,mrp,offerprice) VALUES (?,?,?,?,?)");

    //fetch customer details


    $query = "SELECT * FROM register_customer WHERE register_customer_id='$register_customer_id'";
    $query_run = mysqli_query($con, $query);

    if (mysqli_num_rows($query_run) > 0) {
        $customer = mysqli_fetch_assoc($query_run);
    } else {
        echo "Customer not found!";
        exit;
    }




    $stmt->bind_param(
        "issii",
        $register_customer_id,
        $title,
        $desc,
        $mrp,
        $offer_price
    );




    if ($stmt->execute()) {
        $_SESSION['message'] = "Successfully Submitted!";
        // header("location: quotation-web.php");
        // exit();
    } else {
        $_SESSION['message'] = "Failed";
        // header("location: quotation-web.php");
        // exit();
    }

    $stmt->close();
    $con->close();

    // Create PDF
    $pdf = new FPDF('P', 'mm', "A4");
    $pdf->AddPage();
    $pdf->SetFont('Arial', 'BUI', 20);

    // Title
    $pageWidth = $pdf->GetPageWidth();
    $titleText = "Logo here";
    $titleWidth = $pdf->GetStringWidth($titleText);
    $xTitle = ($pageWidth - $titleWidth) / 2;

    $pdf->SetX($xTitle);
    $pdf->Cell($titleWidth, 10, $titleText, 0, 1, 'C');

    $title = "QUOTATION";
    // $titleWidth = $pdf->GetStringWidth($title);
    // $xTitle = ($pageWidth - $titleWidth) / 2;


    $pdf->SetFillColor(0, 0, 128);
    $pdf->SetFont('Times', 'B', 25);
    $pdf->SetTextColor(255, 255, 255);
    // $pdf->SetX($xTitle);
    $pdf->Cell(190, 15, $title, 0, 1, 'C', true);



    $pdf->SetTextColor(0, 0, 0);
    // Customer Details
    $pdf->SetY(40);
    $pdf->SetFont('Times', '', 15);
    $date = date('F j, Y');
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Customer Name:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7, $customer['first_name'].' '.$customer['last_name'], 1, 0);
    $pdf->Cell(0, 7, "Date: $date", 0, 1, 'R');
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 14, "Address:", 'LR', 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->MultiCell(150, 7, $customer['street'].' '.$customer['area'].' '.$customer['city'].' '.$customer['city'].' '.$customer['district'].' '.$customer['state'].' '.$customer['country'].' '.$customer['pincode'] , 1);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Mobile-1:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(80, 7, $customer['mobile_number'], 1, 0);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(30, 7, "Mobile-2:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7,$customer['whatsapp_number'], 1, 1);
    // $pdf->SetFont('Times', 'B', 15);
    // $pdf->Cell(60, 7, "Contact Person Name:", 1, 0);
    // $pdf->SetFont('Times', '', 15);
    // $pdf->Cell(0, 7, "Name", 1, 1);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(40, 7, "Email:", 1, 0);
    $pdf->SetFont('Times', '', 15);
    $pdf->Cell(0, 7, $customer['email'], 1, 0);

    // Table Header
    $pdf->SetY(90);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(0, 7, 'WEBSITE PACKAGE', 1, 1, 'C', false);

    // $html = echo'<p>'.$desc.'</p>';
    // Table Content
    $pdf->SetFont('Arial', '', 10);
    $pdf->MultiCell(0, 7, $html, 1, 0);

    

    $pdf->SetFont('Times', 'B', 10);
    $pdf->Cell(30, 7, "MRP:", 1, 0);
    $pdf->SetFont('Times', 'B', 12);
    $pdf->Cell(100, 7, $mrp." /-", 1, 0);

    $pdf->SetFont('Times', 'B', 10);
    $pdf->Cell(30, 7, "OFFER PRICE:", 1, 0);
    $pdf->SetFont('Times', 'B', 12);
    $pdf->Cell(0, 7, $offer_price." /-", 1, 1);

    $pdf->SetFont('Times', 'B', 10);
    $pdf->MultiCell(0, 7, "Terms and conditions", 1, 'C', false);

    // Taxes and Total
    // $tax = number_format(0 * $offerprice, 2); // 18% tax
    // $finalamt = number_format($offerprice + $tax, 2);

    $pdf->SetY(-62);
    $pdf->SetFont('Times', 'B', 15);
    $pdf->Cell(0, 15, "FOR WEBMIRCHI IT SOLUTIONS", 0, 1, 'R');

    $pdf->SetY(-50);
    $pdf->SetFont('Times', '', 10);
    $pdf->Cell(0, 5, "  Webmirchi IT Solutions, Sr.No.43/14, Prasad Apartment, Ground Floor, Near Bank of India, Erandwane, Pune, Maharashtra 411004  ", 'LTR', 1, 'C');
    $pdf->Cell(0, 5, "Mobile No: 9850639994, 9325229999", 'LR', 1, 'C');
    $pdf->Cell(0, 5, "Email ID: info@webmirchi.com, Website: www.webmirchi.com", 'LRB', 1, 'C');

    // Footer
    $pdf->SetFont('Arial', 'I', 8);
    $pdf->SetY(-35);
    $pdf->Cell(0, 10, 'quotation generated by Webmirchi Pvt. Ltd.', 0, 1, 'C');

    // Output the PDF
    ob_end_clean(); // Clear the buffer
    $pdf->Output('I', 'Quotation.pdf'); // Display in the browser
    exit; // Stop further script execution
}









<div class="row">
    <div class="card-body">
        <div class="table-rep-plugin">
            <div class="table-responsive mb-0" data-pattern="priority-columns">
                <?php
                if (isset($_GET['id'])) {
                    $customer_id = mysqli_real_escape_string($con, $_GET['id']);
                    $query = "SELECT * FROM register_customer WHERE register_customer_id='$customer_id'";
                    $query_run = mysqli_query($con, $query);

                    if (mysqli_num_rows($query_run) > 0) {
                        $customer = mysqli_fetch_assoc($query_run);
                    } else {
                        echo "<h5 class='text-center text-danger'>No records found</h5>";
                        exit;
                    }
                }
                ?>

                <div class="container mt-5">
                    <div class="card">
                        <div class="card-header bg-primary text-white text-center">
                            <div class="d-flex flex-column align-items-center">
                                <i class="fa-solid fa-user" style="font-size: 4rem;"></i>
                                <h5 class="mt-3 text-light"><?= $customer['honorific'] ?> <?= $customer['first_name'] ?> <?= $customer['last_name'] ?></h5>
                            </div>
                        </div>
                        <div class="card-body">
                            <h4 class="card-title text-center text-primary mb-3">Customer Details</h4>
                            <div class="row text-center">
                                <div class="row">
                                    <div class="col-sm-6 col-12">
                                        <p><strong>Email:</strong> <?= $customer['email'] ?></p>
                                    </div>
                                    <div class="col-sm-6 col-12">
                                        <p><strong>Mobile 1:</strong> <?= $customer['mobile_number'] ?></p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6 col-12">
                                        <p><strong>Mobile 2:</strong> <?= $customer['alternate_number'] ?></p>
                                    </div>
                                    <div class="col-sm-6 col-12">
                                        <p><strong>Whatsapp:</strong> <?= $customer['whatsapp_number'] ?></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="row">
            <div class="col-12">
                <div class="card">

                    <div class="card-body">
                        <div class="table-rep-plugin">
                            <div class="table-responsive mb-0" data-pattern="priority-columns">
                                <table id="datatable-buttons" class="table table-bordered table-table-responsive nowrap w-100">
                                    <thead>
                                        <tr>
                                            <th>Quotation ID</th>
                                            <th></th>
                                            <th>First Name</th>
                                            <th>Last Name</th>
                                            <th>Email</th>
                                            <th>Mobile 1</th>
                                            <th>Mobile 2</th>
                                            <th>Whatsapp</th>
                                            <th>Apps</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead
                                        <tbody>
                                    <?php
                                    $query = "SELECT * FROM quotation_web where register_customer_id = '$customer_id'";
                                    $query_run = mysqli_query($con, $query);

                                    if (mysqli_num_rows($query_run) > 0) {
                                        foreach ($query_run as $customer) {
                                    ?>
                                            <tr>
                                                <th><?= $customer['register_customer_id'] ?></th>
                                                <th><?= $customer['honorific'] ?></th>
                                                <th><?= $customer['first_name'] ?></th>
                                                <th><?= $customer['last_name'] ?></th>
                                                <th><?= $customer['email'] ?></th>
                                                <th><?= $customer['mobile_number'] ?></th>
                                                <th><?= $customer['alternate_number'] ?></th>
                                                <th><?= $customer['whatsapp_number'] ?></th>
                                                <th>
                                                    <a href="invoice-web.php?id=<?= $customer['register_customer_id']; ?>" title="Invoice" class="btn btn-primary"><i class="fa-solid fa-indian-rupee-sign"></i></a>
                                                    <div class="dropdown  d-inline">
                                                        <button class="btn btn-primary dropdown-toggle" title="Quotation" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                            <i class="fa-solid fa-q"></i>
                                                        </button>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="select-package.php?id=<?= $customer['register_customer_id']; ?>" title="Quotation">Website</a></li>
                                                            <li><a class="dropdown-item" href="quotation-sales.php?id=<?= $customer['register_customer_id']; ?>" title="Quotation">Sales</a></li>
                                                            <li><a class="dropdown-item" href="quotation-repair.php?id=<?= $customer['register_customer_id']; ?>" title="Quotation">Repair</a></li>

                                                        </ul>
                                                    </div>
                                                    <a href="enquiry.php?id=<?= $customer['register_customer_id']; ?>" title="Enquiry" class="btn btn-success"><i class="fa-solid fa-book"></i></a>
                                                </th>
                                                <th>
                                                    <a href="preview.php?id=<?= $customer['register_customer_id']; ?>" title="view" class="btn btn-primary"><i class="fa-regular fa-eye"></i></a>
                                                    <button title="Delete" class="btn btn-danger"><i class="fa-solid fa-trash"></i></button>

                                                </th>
                                            </tr>
                                    <?php
                                        }
                                    } else {
                                        echo "<h5>No records found</h5>";
                                    }

                                    ?>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>







    <!-- select package -->
    <div style="width: 100%;" class="d-flex justify-content-center align-items-center">
        <form action="quotation-web.php" method="post" class="p-4 border rounded shadow">
            <input type="hidden" name="register_customer_id" value="<?= $customer_id; ?>">
            <?php
            $query = "SELECT * FROM quotation_web_master";
            $query_run = mysqli_query($con, $query);
            if (mysqli_num_rows($query_run) > 0) {
                $master = mysqli_fetch_assoc($query_run);
            }
            ?>
            <div class="row">
                <div class="col-12">
                    <div class="mb-3">
                        <label style="width: 500px;" class="form-label">Quotation Title</label>
                        <select class="form-select" name="title">
                            <?php
                            foreach ($query_run as $master) {
                            ?>
                                <option><?= $master['title'] ?></option>
                            <?php
                            }
                            ?>
                        </select>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary" name="package-btn">Get Details</button>
        </form>
    </div>

</div>